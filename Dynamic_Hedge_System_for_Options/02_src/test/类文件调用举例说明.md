# 类文件调用举例说明

## 类文件

1.  基础股指数据类(单例)，返回股指数据：BasicData

2.  期权基类：OptionBase

   2.1  欧式看涨期权和欧式看跌期权：VanillaCall/VanillaPut

3. 策略类

   3.1 两种对冲策略：WW_Hedge/Zakamouline

   3.2 两种对冲策略：HedgeAll/HedgeHalf

4. Option_Portfolio: 期权组合类

## 2.1 VanillaCall/VanillaPut

```python
from classes.options.Vanilla import VanillaCall
from classes.options.Vanilla import VanillaPut
vanilla = VanillaCall() #将类实例化
vanilla.set_paras(notional=12e6,
                  start_date='20190129',
                  end_date='20191231',
                  K=5.42,
                  option_fee=1780800,
                  stock_code='300277.SZ',
                  start_price=6.19) #传入参数
vanilla.calculate_greeks() #计算希腊值
greek_df = vanilla.get_greek_df() #返回计算结果，DataFrame格式
```

## 3.1 WW_Hedge/Zakamouline

```python
from classes.strategy.ww_Hedge import WW_Hedge
ww_hedge = WW_Hedge() #将类实例化
df_hedge_ww = ww_hedge.get_hedging_position(greek_df,
                              r=0.04,
                              size=12e6/6.19//100*100,
                              K=5.42)
 #传入参数并计算持仓：第一个参数greek_df为VanillaCall的计算结果
ww_hedge.hedge_visualization(greek_df) #画图，传入参数为VanillaCall计算结果
```

## 3.2 HedgeAll/HedgeHalf

```python
from classes.strategy.hedgeAll import HedgeAll
hedgeAll = HedgeAll() #将类实例化
df_position = hedgeAll.get_hedging_position(greek_df)
 #传入参数并计算持仓：第一个参数greek_df为VanillaCall的计算结果

```

## 4. Option_Portfolio

```python
from classes.options.option_portfolio import Option_Portfolio

spread_para = {'portfolio_class': 'BullCallSpread',  # 期权组合类型，需在Option——portfolio类中定义；'BearCallSpread','BullPutSpread','BearPutSpread'，'Strangle','Strandle')等其他组合类型类似，只需修改portfolio_class
              'notional': 12e6,
              'start_date': '20190129',
              'end_date': '20191231',
              'K_low': 5.42,
              'K_high': 5.98,
              'stock_code': '300277.SZ',
              'start_price': 6.19,
               }  # 定义一个字典作为传入的参数

option_portfolio = Option_Portfolio()  # 期权组合类实例化
option_portfolio.create_portfolio_dict(**spread_para)  # 传入参数，用于构造期权组合
option_portfolio.calculate_portfolio_greeks()  # 计算组合希腊值
portfolio_greeks = option_portfolio.get_portfolio_df_greek()  # 返回组合希腊值
```
